<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Menu</title>

        <link rel="stylesheet" href="{{ url_for('static', filename='CSS/menu.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='CSS/navbar.css') }}">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.5/lottie.min.js"></script>
    </head>
    <body>
        <nav>
            <a href="{{ url_for('homepage') }}" id="FP-Logo">
                <h1>FIESTA&nbsp;<img src="{{ url_for('static', filename='Images_Videos/fiesta pizza-logo.png') }}" alt="logo">&nbsp;PIZZA</h1>
            </a>
            <ul class="navbar">
                <li><a href="{{ url_for('menu') }}">ORDER NOW</a></li>
                {% if 'loggedin' in session %}
                    <li><a href="{{ url_for('profile') }}">PROFILE</a></li>
                    <li><a href="{{ url_for('logout') }}">LOGOUT</a></li>
                {% else %}
                    <li><a href="{{ url_for('register') }}">REGISTER</a></li>
                    <li><a href="{{ url_for('login') }}">LOGIN</a></li>
                {% endif %}
                {% if session['isAdmin'] %}
                    <li><button id="admin-tools-btn" class="nav-btn">ADMIN TOOLS</button></li>
                {% endif %} 
                <li id="cart-icon">
                    <a href="{{ url_for('menu') }}"><div id="lottie-cart" style="width: 50px; height: 50px;"></div></a>
                </li>
            </ul>
        </nav>
        <main class="menu-container">
            <div class="scroll-container">
                <button class="scroll-btn left">&lt;</button>
                <div class="scroll-wrapper">
                    <ul class="menu-options">
                        <li><button class="nav-btn" data-target="pizza-section">Pizza</button></li>
                        <li><button class="nav-btn" data-target="stromboli-section">Strombolis</button></li>
                        <li><button class="nav-btn" data-target="sandwich-section">Sandwiches</button></li>
                        <li><button class="nav-btn" data-target="burger-section">Burgers</button></li>
                        <li><button class="nav-btn" data-target="wrap-section">Wraps</button></li>
                        <li><button class="nav-btn" data-target="quesadilla-section">Quesadillas</button></li>
                        <li><button class="nav-btn" data-target="seafood-section">Seafood</button></li>
                        <li><button class="nav-btn" data-target="side-section">Sides</button></li>
                        <li><button class="nav-btn" data-target="salad-section">Salads</button></li>
                        <li><button class="nav-btn" data-target="special-section">Fiesta Specials</button></li>
                        <li><button class="nav-btn" data-target="specplatter-section">Special Platters</button></li>
                        <li><button class="nav-btn" data-target="dinner-section">Dinner Platters</button></li>
                        <li><button class="nav-btn" data-target="greek-section">Greek</button></li>
                        <li><button class="nav-btn" data-target="breakfast-section">Breakfast</button></li>
                        <li><button class="nav-btn" data-target="drink-section">Drinks</button></li>
                        <li><button class="nav-btn" data-target="steak-section">Steak</button></li>
                        <li><button class="nav-btn" data-target="chsteak-section">Chicken Steak</button></li>
                        <li><button class="nav-btn" data-target="chicken-section">Chicken</button></li>
                        <li><button class="nav-btn" data-target="hoagie-section">Hoagies</button></li>
                        <li><button class="nav-btn" data-target="grinder-section">Grinders</button></li>
                        <li><button class="nav-btn" data-target="kids-section">Kids Menu</button></li>
                        <li><button class="nav-btn" data-target="dessert-section">Desserts</button></li>
                    </ul>
                </div>
                <button class="scroll-btn right">&gt;</button>
            </div>

            <div id="admin-tools-modal" class="modal">
                <div class="modal-content-admin">
                    <span class="close-btn">&times;</span>
                    <section class="admin-section">
                        <h2 class="promo">ADMIN TOOLS</h2>
            
                        <form class="admin-form" id="addItem-form" action="{{ url_for('menu') }}" method="POST">
                            <h3>Add Item</h3>
                            <label for="addName">Item Name</label>
                            <input type="text" id="addName" name="addName" required>
            
                            <label for="addCategory">Item Category</label>
                            <input type="text" id="addCategory" name="addCategory" required>
            
                            <label for="addPrice">Item Price</label>
                            <input type="number" step="0.01" id="addPrice" name="addPrice" required>
            
                            <button type="submit">Add Item</button>
                        </form>
            
                        <form class="admin-form" id="editItem-form" action="{{ url_for('menu') }}" method="POST">
                            <h3>Edit Item</h3>
                            <label for="editName">Item to Edit</label>
                            <input type="text" id="editName" name="editName" required>
            
                            <label for="updatePrice">New Price</label>
                            <input type="number" step="0.01" id="updatePrice" name="updatePrice" required>
            
                            <button type="submit">Edit Item</button>
                        </form>

                        <form class="admin-form" id="specials-form" action="{{ url_for('menu') }}" method="POST">
                            <h3>Specials</h3>
                            <label for="specialName">Item for Special</label>
                            <input type="text" id="specialName" name="specialName" required>
            
                            <label for="specialPercent">Discount Percentage</label>
                            <input type="number" id="specialPercent" name="specialPercent" required>
            
                            <button type="submit">Add Special</button>
                        </form>
            
                        <table class="menu-table">
                            <thead>
                                <tr>
                                    <th>Item Name</th>
                                    <th>Item Category</th>
                                    <th>Item Price</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in all_menu_items %}
                                <tr>
                                    <td>{{ item.itemName }}</td>
                                    <td>{{ item.itemCategory }}</td>
                                    <td>{{ item.itemPrice }}</td>
                                    <td>
                                        <form method="post" action="{{ url_for('menu') }}" style="display:inline;">
                                            <button type="submit" name="delete_menu" value="{{ item.itemName }}" class="delete-btn">Delete</button>
                                        </form>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </section>
                </div>
            </div>
            
            <section class="menu-section">
                <h2 class="promo">FEATURED ITEMS</h2>
                <div class="featured-items">
                    <div class="item-card" 
                         data-item-name="Pepperoni Pizza" 
                         data-item-category="Pizza" 
                         data-item-price="10.95" 
                         data-item-img="{{ url_for('static', filename='Images_Videos/pizza.jpeg') }}">
                        <img src="{{ url_for('static', filename='Images_Videos/pizza.jpeg') }}" alt="Pepperoni Pizza">
                        <h3>Pepperoni Pizza</h3>
                        <div class="price">
                            <span>$10.95</span>
                        </div>
                        <button class="order-button">ORDER NOW</button>
                    </div>
                    <div class="item-card" 
                         data-item-name="Plain Stromboli" 
                         data-item-category="Strombolis" 
                         data-item-price="6.50" 
                         data-item-img="{{ url_for('static', filename='Images_Videos/stromboli.png') }}">
                        <img src="{{ url_for('static', filename='Images_Videos/stromboli.png') }}" alt="Stromboli">
                        <h3>Stromboli</h3>
                        <div class="price">
                            <span>$6.50</span>
                        </div>
                        <button class="order-button">ORDER NOW</button>
                    </div>
                    <div class="item-card" 
                         data-item-name="Burger" 
                         data-item-category="Burger" 
                         data-item-price="11.99" 
                         data-item-img="{{ url_for('static', filename='Images_Videos/burger.jpg') }}">
                        <img src="{{ url_for('static', filename='Images_Videos/burger.jpg') }}" alt="Burger">
                        <h3>Burger</h3>
                        <div class="price">
                            <span>$11.99</span>
                        </div>
                        <button class="order-button">ORDER NOW</button>
                    </div>
                </div>
            </section>
            <div id="item-modal" class="modal">
                <div class="modal-content-order">
                    <span class="close">&times;</span>
                    <h2 id="item-name">Customize Your Order</h2>

                    <div class="size-options">
                        <h3>Choose an Option</h3>
                        <div id="size-options-container">
                            <!-- This will be dynamically populated -->
                        </div>
                    </div>

                    <div class="toppings-options">
                        <h3>Add Toppings</h3>
                        <div>
                            <label><input type="checkbox" name="topping" value="Extra Cheese" data-price="1.95"> Extra Cheese (+$1.95)</label>
                        </div>
                        <div>
                            <label><input type="checkbox" name="topping" value="Pepperoni" data-price="2.25"> Pepperoni (+$2.25)</label>
                        </div>
                        <div>
                            <label><input type="checkbox" name="topping" value="Mushrooms" data-price="1.50"> Mushrooms (+$1.50)</label>
                        </div>

                    </div>

                    <div class="modal-footer">
                        <div class="quantity-control">
                            <button id="decrease-qty">-</button>
                            <span id="quantity-display">1</span>
                            <button id="increase-qty">+</button>
                        </div>
                        <button id="add-to-cart-button">ADD TO ORDER - $<span id="total-price">9.25</span></button>
                    </div>
                </div>
            </div>

            <section id="pizza-section" class="items-section">
                <h2 class="categories">PIZZAS</h2>
                <div class="menu-items">
                    {% for item in menu_items %}
                    <div class="menu-item-card">
                        <h3 class="menu-item-title">{{ item.itemName }}</h3>
                        <p class="menu-item-description">
                            {% if item.itemName == "Plain Cheese Pizza" %}
                            Classic New York-style slice.
                            {% elif item.itemName == "White Pizza" %}
                            A creamy and cheesy delight.
                            {% elif item.itemName == "Extra Cheese Pizza" %}
                            Loaded with extra mozzarella.
                            {% else %}
                            {% endif %}
                        </p>
                        <div class="menu-item-price">
                            <span class="original-price">${{ item.itemPrice }}</span>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </section>

            <section id="stromboli-section" class="items-section">
                <h2 class="categories">STROMBOLIS</h2>
                <div class="menu-items">
                    {% for item in strombolis_items %}
                    <div class="menu-item-card">
                        <h3 class="menu-item-title">{{ item.itemName }}</h3>
                        <p class="menu-item-description">
                            {% if item.itemName == "Plain Stromboli" %}
                            A classic and simple delight.
                            {% elif item.itemName == "Vegetarian Stromboli" %}
                            Loaded with fresh vegetables.
                            {% elif item.itemName == "Meatball Stromboli" %}
                            Stuffed with savory meatballs.
                            {% elif item.itemName == "Buffalo Chicken Stromboli" %}
                            Spicy buffalo chicken wrapped in dough.
                            {% elif item.itemName == "House Special Stromboli" %}
                            A loaded stromboli with all the house favorites.
                            {% else %}
                            {% endif %}
                        </p>
                        <div class="menu-item-price">
                            <span class="original-price">${{ item.itemPrice }}</span>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </section>

            <section id="sandwich-section" class="items-section">
                <h2 class="categories">SANDWICHES</h2>
                <div class="menu-items">
                    {% for item in sandwiches_items %}
                    <div class="menu-item-card">
                        <h3 class="menu-item-title">{{ item.itemName }}</h3>
                        <p class="menu-item-description">
                            {% if item.itemName == "Chicken Salad Sandwich" %}
                            Fresh chicken salad on a soft sandwich roll.
                            {% elif item.itemName == "Tuna Salad Sandwich" %}
                            A classic tuna salad sandwich.
                            {% elif item.itemName == "Grilled Cheese Sandwich" %}
                            Golden, buttery toast with melted cheese.
                            {% elif item.itemName == "B.L.T Sandwich" %}
                            Crispy bacon, lettuce, and tomato.
                            {% elif item.itemName == "Cheeseburger Melt Sandwich" %}
                            Juicy cheeseburger between toasted bread.
                            {% elif item.itemName == "Hot Roast Beef Sandwich" %}
                            Tender roast beef served hot.
                            {% elif item.itemName == "Grilled Chicken Club Double Decker Sandwich" %}
                            Grilled chicken stacked high in a club sandwich.
                            {% else %}
                            {% endif %}
                        </p>
                        <div class="menu-item-price">
                            <span class="original-price">${{ item.itemPrice }}</span>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </section>

            <section id="burger-section" class="items-section">
                <h2 class="categories">BURGERS</h2>
                <div class="menu-items">
                    {% for item in burgers_items %}
                    <div class="menu-item-card">
                        <h3 class="menu-item-title">{{ item.itemName }}</h3>
                        <p class="menu-item-description">
                            {% if item.itemName == "Cheeseburger" %}
                            A classic cheeseburger.
                            {% elif item.itemName == "Bacon Cheeseburger" %}
                            A cheeseburger with crispy bacon.
                            {% elif item.itemName == "Mushroom Swiss Burger" %}
                            A juicy burger with mushrooms and swiss cheese.
                            {% elif item.itemName == "Veggie Burger" %}
                            A meatless burger patty.
                            {% elif item.itemName == "Turkey Burger" %}
                            A lean turkey burger.
                            {% else %}
                            {% endif %}
                        </p>
                        <div class="menu-item-price">
                            <span class="original-price">${{ item.itemPrice }}</span>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </section>

            <aside class="order-summary">
                <h2>YOUR ORDER</h2>
                <div class="delivery">
                    <button id="delivery-button" class="delivery-button">Delivery or Pickup Available</button>
                </div>
                <div class="cart-items">
                    <p class="empty-cart">Your cart is empty</p>
                    <img src="{{ url_for('static', filename='Images_Videos/pizza-oven2.png') }}" alt="Pizza Stove" class="empty-cart-img">
                </div>
                <div class="tip-section">
                    <p>Tip: <span id="tip-amount">$0.00</span></p>
                    <div class="tip-bar">
                        <button class="tip-option" data-tip="0">0%</button>
                        <button class="tip-option" data-tip="10">10%</button>
                        <button class="tip-option" data-tip="15">15%</button>
                        <button class="tip-option" data-tip="other">Other</button>
                    </div>
                </div>
                <span class="total-cost">TOTAL: $0.00</span>
                <button class="checkout-button">CHECKOUT</button>
            </aside>

            <div id="delivery-modal" class="modal">
                <div class="modal-content-delivery">
                    <span class="close-btn">&times;</span>

                    <div class="toggle">
                        <ul class="order-option">
                            <li class="toggle-option active" id="toggle-delivery">Delivery</li>
                            <li class="toggle-option" id="toggle-pickup">Pickup</li>
                        </ul>
                    </div>

                    <div id="delivery-section" class="delivery-info">
                        <label for="address-input">Enter your delivery address</label>
                        <input type="text" id="address-input" placeholder="123 Main St, City, ZIP">
                        <a href="#">Log in for saved address</a>
                    </div>

                    <div id="pickup-section" class="pickup-info hidden">
                        <div class="pickup-location">
                            <h3>Where</h3>
                            <h4>Fiesta Pizza</h4>
                            <p class="address">4518 Baltimore Ave, Philadelphia, PA 19143</p>
                        </div>
                        <div class="pickup-time">
                            <h3>When</h3>
                            <select id="pickup-schedule" class="time-select">
                                <option value="ASAP">ASAP (15-30 min)</option>
                            </select>
                        </div>
                    </div>

                    <div class="instructions">
                        <p><img src="{{ url_for('static', filename='Images_Videos/exclamation.png') }}" width="15px" height="15px">&nbsp;You can add special instructions at checkout.</p>
                    </div>
                    <button class="save-button">Save</button>
                </div>
            </div>
        </main>
        <script src="{{ url_for('static', filename='cartani.js') }}"></script>
        <script src="{{ url_for('static', filename='menuscript.js') }}"></script>
    </body>
</html>
